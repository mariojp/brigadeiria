<!doctype html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org" >
  <head>
    <title>Brigadeiria</title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Custom styles for this template -->
    <link href="../css/dashboard.css" rel="stylesheet">
    <link href="../css/pedido.css" rel="stylesheet">
  </head>

 <body>

  <div th:replace="~{fragmentos/navsup :: navsup}"></div>

  <div class="container-fluid">
    <div class="row">
      <div th:replace="~{fragmentos/navlateral :: sidebar}"></div>  

      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
      
         <div class="row g-5">
          
          <div class="col-md-7 col-lg-8">
            <h1 class="h2">Novo Pedido</h1>   
            <form th:action="@{/pedido/salvar}" th:object="${pedido}" method="post">

                <div class="col-md-12 mt-2">
                  <label class="form-label">Cliente</label>
                  <select class="form-select" field="*{cliente}" name="cliente" id="cliente"  required="required">
                    <option>Selecione</option>
                    <th:block th:each="cli : ${clientes}">
                      <option  th:text="${cli.nome}" 
                               th:value="${cli.id}"
                               
                      ></option>
                    </th:block>
                  </select>
                </div>

                <div class="row">
                  <div class="col-md-4  mt-2">
                    <label class="form-label">Categoria</label>
                    <select class="form-select" id="categoria"  required >
                      <option>Selecione</option>
                      <th:block th:each="cat : ${categorias}">
                        <option  th:text="${cat.nome}" 
                                th:value="${cat.id}"
                        ></option>
                      </th:block>
                  </select>
                  </div>

                  <div class="col-md-8  mt-2" id="blocoProduto" >
                    <label class="form-label">Produto</label>
                    <select class="form-select" required id="selectProduto" >
                      <option>Selecione</option>
                    </select>
                  </div>
               </div>
               
              <div class="row">
                <div class="col-md-4 mt-2" >
                  <label class="form-label">Quantidade</label>
                  <input class="form-control" type="number" required id="quantidade" min="1"/>
                </div>
                    
                <div class="col-md-4 mt-4" >
                   <button type="button"  class="btn btn-primary  btn-sm" id="b-acrescentar">Adicionar Item</button>
                </div>
              </div> 

          </div>

          <div class="col-md-5 col-lg-4 order-md-last">
            <h4 class="d-flex justify-content-between align-items-center mb-3">
              <span class="text-primary">Seu Pedido</span>
              <span id="total-itens" class="badge bg-primary rounded-pill">0</span>
            </h4>
            <ul class="list-group mb-3" id="lista-carrinho">
              
              
              <li class="list-group-item d-flex justify-content-between" >
                <span>Total (R$)</span>
                <span id="valorTotal">0</span>
              </li>
            </ul>

            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
              <button type="submit" class="btn btn-primary" >Fechar Pedido</button>
            </div>
          </div>

        
        </form>
      
        </div>
      
      </main>

    </div>
  </div>

    <!--JS-->
    <!--<script src="js/bootstrap.bundle.min.js"></script>-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js" integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE" crossorigin="anonymous"> </script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha" crossorigin="anonymous"></script>
    <script src="../js/dashboard.js"></script>
    <script src="../js/pedido.js"></script>

  </body>
</html>        
